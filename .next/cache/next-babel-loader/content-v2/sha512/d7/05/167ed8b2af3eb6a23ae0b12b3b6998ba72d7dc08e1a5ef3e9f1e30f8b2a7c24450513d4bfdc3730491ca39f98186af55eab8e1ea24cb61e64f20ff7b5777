{"ast":null,"code":"import LastFM from \"last-fm\";\nimport { useEffect, useState } from \"react\";\nexport default function useLastFmData(cleanTrackDetails) {\n  const {\n    0: artistBio,\n    1: setArtistBio\n  } = useState(null);\n  useEffect(() => {\n    if (cleanTrackDetails) {\n      console.log(\"clean\", cleanTrackDetails.artist);\n      const lastfm = new LastFM(\"8e17009fc64041e78ce4a9ec5c053180\", {\n        userAgent: \"http://localhost:3000\"\n      });\n      lastfm.trackSearch({\n        q: cleanTrackDetails.song\n      }, (err, data) => {\n        if (err) console.error(err);else console.log(\"lastfm\", data);\n      });\n    }\n  }, [cleanTrackDetails]);\n  return artistBio;\n}","map":{"version":3,"sources":["/Users/jeremie/web/44_spotify-liner-notes2.0/pages/api/useLastFmData.js"],"names":["LastFM","useEffect","useState","useLastFmData","cleanTrackDetails","artistBio","setArtistBio","console","log","artist","lastfm","userAgent","trackSearch","q","song","err","data","error"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,eAAe,SAASC,aAAT,CAAuBC,iBAAvB,EAA0C;AACvD,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BJ,QAAQ,CAAC,IAAD,CAA1C;AACAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIG,iBAAJ,EAAuB;AACrBG,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,iBAAiB,CAACK,MAAvC;AAEA,YAAMC,MAAM,GAAG,IAAIV,MAAJ,CAAW,kCAAX,EAA+C;AAC5DW,QAAAA,SAAS,EAAE;AADiD,OAA/C,CAAf;AAIAD,MAAAA,MAAM,CAACE,WAAP,CAAmB;AAAEC,QAAAA,CAAC,EAAET,iBAAiB,CAACU;AAAvB,OAAnB,EAAkD,CAACC,GAAD,EAAMC,IAAN,KAAe;AAC/D,YAAID,GAAJ,EAASR,OAAO,CAACU,KAAR,CAAcF,GAAd,EAAT,KACKR,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBQ,IAAtB;AACN,OAHD;AAID;AACF,GAbQ,EAaN,CAACZ,iBAAD,CAbM,CAAT;AAeA,SAAOC,SAAP;AACD","sourcesContent":["import LastFM from \"last-fm\";\nimport { useEffect, useState } from \"react\";\n\nexport default function useLastFmData(cleanTrackDetails) {\n  const [artistBio, setArtistBio] = useState(null);\n  useEffect(() => {\n    if (cleanTrackDetails) {\n      console.log(\"clean\", cleanTrackDetails.artist);\n\n      const lastfm = new LastFM(\"8e17009fc64041e78ce4a9ec5c053180\", {\n        userAgent: \"http://localhost:3000\",\n      });\n\n      lastfm.trackSearch({ q: cleanTrackDetails.song }, (err, data) => {\n        if (err) console.error(err);\n        else console.log(\"lastfm\", data);\n      });\n    }\n  }, [cleanTrackDetails]);\n\n  return artistBio;\n}\n"]},"metadata":{},"sourceType":"module"}