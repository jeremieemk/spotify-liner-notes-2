{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport LastFM from \"last-fm\";\nimport { useEffect, useState } from \"react\";\nexport default function useLastFmData(cleanTrackDetails) {\n  _s();\n\n  var _useState = useState(null),\n      artistBio = _useState[0],\n      setArtistBio = _useState[1];\n\n  useEffect(function () {\n    console.log(\"clean\", cleanTrackDetails);\n\n    if (cleanTrackDetails) {\n      var lastfm = new LastFM(\"8e17009fc64041e78ce4a9ec5c053180\", {\n        userAgent: \"http://localhost:3000\"\n      });\n      lastfm.lastfm.artistSearch({\n        q: cleanTrackDetails.artist\n      }, function (err, data) {\n        if (err) console.error(err);else console.log(\"lastfm\", data);\n      });\n    }\n  }, [cleanTrackDetails]);\n  return artistBio;\n}\n\n_s(useLastFmData, \"HD/44y+2yzAmIf8O6j6qzi59pRc=\");","map":{"version":3,"sources":["/Users/jeremie/web/44_spotify-liner-notes2.0/pages/api/useLastFmData.js"],"names":["LastFM","useEffect","useState","useLastFmData","cleanTrackDetails","artistBio","setArtistBio","console","log","lastfm","userAgent","artistSearch","q","artist","err","data","error"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,eAAe,SAASC,aAAT,CAAuBC,iBAAvB,EAA0C;AAAA;;AAAA,kBACrBF,QAAQ,CAAC,IAAD,CADa;AAAA,MAChDG,SADgD;AAAA,MACrCC,YADqC;;AAEvDL,EAAAA,SAAS,CAAC,YAAM;AACdM,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,iBAArB;;AACA,QAAIA,iBAAJ,EAAuB;AACrB,UAAMK,MAAM,GAAG,IAAIT,MAAJ,CAAW,kCAAX,EAA+C;AAC5DU,QAAAA,SAAS,EAAE;AADiD,OAA/C,CAAf;AAIAD,MAAAA,MAAM,CAACA,MAAP,CAAcE,YAAd,CACE;AAAEC,QAAAA,CAAC,EAAER,iBAAiB,CAACS;AAAvB,OADF,EAEE,UAACC,GAAD,EAAMC,IAAN,EAAe;AACb,YAAID,GAAJ,EAASP,OAAO,CAACS,KAAR,CAAcF,GAAd,EAAT,KACKP,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBO,IAAtB;AACN,OALH;AAOD;AACF,GAfQ,EAeN,CAACX,iBAAD,CAfM,CAAT;AAiBA,SAAOC,SAAP;AACD;;GApBuBF,a","sourcesContent":["import LastFM from \"last-fm\";\nimport { useEffect, useState } from \"react\";\n\nexport default function useLastFmData(cleanTrackDetails) {\n  const [artistBio, setArtistBio] = useState(null);\n  useEffect(() => {\n    console.log(\"clean\", cleanTrackDetails);\n    if (cleanTrackDetails) {\n      const lastfm = new LastFM(\"8e17009fc64041e78ce4a9ec5c053180\", {\n        userAgent: \"http://localhost:3000\",\n      });\n\n      lastfm.lastfm.artistSearch(\n        { q: cleanTrackDetails.artist },\n        (err, data) => {\n          if (err) console.error(err);\n          else console.log(\"lastfm\", data);\n        }\n      );\n    }\n  }, [cleanTrackDetails]);\n\n  return artistBio;\n}\n"]},"metadata":{},"sourceType":"module"}