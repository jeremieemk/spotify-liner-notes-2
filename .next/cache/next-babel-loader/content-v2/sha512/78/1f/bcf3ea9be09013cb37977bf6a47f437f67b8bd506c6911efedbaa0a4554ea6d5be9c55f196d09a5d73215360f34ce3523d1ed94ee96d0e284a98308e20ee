{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport LastFM from \"last-fm\";\nimport { useEffect, useState } from \"react\";\nexport default function useLastFmData(cleanTrackDetails) {\n  _s();\n\n  var _useState = useState(null),\n      artistBio = _useState[0],\n      setArtistBio = _useState[1];\n\n  useEffect(function () {\n    if (cleanTrackDetails) {\n      // const lastfm = new LastFM(\"8e17009fc64041e78ce4a9ec5c053180\", {\n      //   userAgent: \"http://localhost:3000\",\n      // });\n      fetch(\"http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=8e17009fc64041e78ce4a9ec5c053180&artist=Cher&album=Believe&format=json\") // Handle success\n      .then(function (response) {\n        return response.json();\n      }) // convert to json\n      .then(function (json) {\n        return console.log(\"test api\", json);\n      }) //print data to console\n      [\"catch\"](function (err) {\n        return console.log(\"Request Failed\", err);\n      }); // lastfm.trackSearch({ q: cleanTrackDetails.song }, (err, data) => {\n      //   if (err) console.error(err);\n      //   else console.log(\"lastfm\", data);\n      // });\n    }\n  }, [cleanTrackDetails]);\n  return artistBio;\n}\n\n_s(useLastFmData, \"HD/44y+2yzAmIf8O6j6qzi59pRc=\");","map":{"version":3,"sources":["/Users/jeremie/web/44_spotify-liner-notes2.0/pages/api/useLastFmData.js"],"names":["LastFM","useEffect","useState","useLastFmData","cleanTrackDetails","artistBio","setArtistBio","fetch","then","response","json","console","log","err"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,SAAnB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,eAAe,SAASC,aAAT,CAAuBC,iBAAvB,EAA0C;AAAA;;AAAA,kBACrBF,QAAQ,CAAC,IAAD,CADa;AAAA,MAChDG,SADgD;AAAA,MACrCC,YADqC;;AAEvDL,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIG,iBAAJ,EAAuB;AACrB;AACA;AACA;AAEAG,MAAAA,KAAK,CACH,uIADG,CAAL,CAGE;AAHF,OAIGC,IAJH,CAIQ,UAACC,QAAD;AAAA,eAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,OAJR,EAIuC;AAJvC,OAKGF,IALH,CAKQ,UAACE,IAAD;AAAA,eAAUC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,IAAxB,CAAV;AAAA,OALR,EAKiD;AALjD,gBAMS,UAACG,GAAD;AAAA,eAASF,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,GAA9B,CAAT;AAAA,OANT,EALqB,CAarB;AACA;AACA;AACA;AACD;AACF,GAnBQ,EAmBN,CAACT,iBAAD,CAnBM,CAAT;AAqBA,SAAOC,SAAP;AACD;;GAxBuBF,a","sourcesContent":["import LastFM from \"last-fm\";\nimport { useEffect, useState } from \"react\";\n\nexport default function useLastFmData(cleanTrackDetails) {\n  const [artistBio, setArtistBio] = useState(null);\n  useEffect(() => {\n    if (cleanTrackDetails) {\n      // const lastfm = new LastFM(\"8e17009fc64041e78ce4a9ec5c053180\", {\n      //   userAgent: \"http://localhost:3000\",\n      // });\n\n      fetch(\n        \"http://ws.audioscrobbler.com/2.0/?method=album.getinfo&api_key=8e17009fc64041e78ce4a9ec5c053180&artist=Cher&album=Believe&format=json\"\n      )\n        // Handle success\n        .then((response) => response.json()) // convert to json\n        .then((json) => console.log(\"test api\", json)) //print data to console\n        .catch((err) => console.log(\"Request Failed\", err));\n\n      // lastfm.trackSearch({ q: cleanTrackDetails.song }, (err, data) => {\n      //   if (err) console.error(err);\n      //   else console.log(\"lastfm\", data);\n      // });\n    }\n  }, [cleanTrackDetails]);\n\n  return artistBio;\n}\n"]},"metadata":{},"sourceType":"module"}